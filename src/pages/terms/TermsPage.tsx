import { TopAppBar } from '@/widgets/top-app-bar'
import { Container } from '@/shared/ui/container'
import { Card } from '@/shared/ui/card'
import { PolicyDocumentHeaderCard } from '@/shared/ui/policy-document-header-card'

type TermsPageProps = {
  onBack?: () => void
}

const TERMS_SECTIONS = [
  {
    id: 'article-1',
    title: '제1조 (목적)',
    paragraphs: [
      '이 약관은 Tasteam(이하 "회사")이 제공하는 맛집 탐색, 리뷰 작성, 그룹 기반 추천 서비스(이하 "서비스")의 이용과 관련하여 회사와 이용자 간의 권리, 의무 및 책임사항을 규정함을 목적으로 합니다.',
    ],
  },
  {
    id: 'article-2',
    title: '제2조 (정의)',
    paragraphs: ['이 약관에서 사용하는 용어의 정의는 다음과 같습니다.'],
    bullets: [
      '"이용자"란 이 약관에 따라 회사가 제공하는 서비스를 이용하는 회원 및 비회원을 말합니다.',
      '"회원"이란 회사에 개인정보를 제공하여 회원등록을 하고, 회사가 제공하는 서비스를 계속적으로 이용할 수 있는 자를 말합니다.',
      '"비회원"이란 회원으로 가입하지 않고 회사가 제공하는 서비스를 이용하는 자를 말합니다.',
      '"콘텐츠"란 이용자가 서비스 내에 작성 또는 등록하는 리뷰, 평점, 이미지, 댓글, 프로필 정보 등 일체의 정보를 말합니다.',
      '"그룹"이란 서비스 내에서 이용자들이 맛집 정보를 공유하고 소통하기 위해 생성하는 모임을 말합니다.',
    ],
  },
  {
    id: 'article-3',
    title: '제3조 (약관의 효력 및 개정)',
    paragraphs: [
      '① 본 약관은 서비스를 이용하고자 하는 모든 이용자에게 적용됩니다.',
      '② 회사는 본 약관의 내용을 이용자가 쉽게 알 수 있도록 서비스 초기 화면 또는 연결화면에 게시합니다.',
      '③ 회사는 「전자상거래 등에서의 소비자보호에 관한 법률」, 「약관의 규제에 관한 법률」, 「정보통신망 이용촉진 및 정보보호 등에 관한 법률」 등 관련 법령을 위반하지 않는 범위에서 이 약관을 개정할 수 있습니다.',
      '④ 회사가 약관을 개정할 경우에는 적용일자 및 개정사유를 명시하여 현행 약관과 함께 서비스 내 공지사항에 그 적용일자 7일 전부터 적용일자 전일까지 공지합니다. 다만, 이용자에게 불리한 약관의 개정의 경우에는 30일 전부터 공지합니다.',
      '⑤ 이용자가 개정 약관의 적용에 동의하지 않는 경우 회원탈퇴를 할 수 있으며, 개정 약관 시행일까지 명시적으로 거부 의사를 표시하지 않고 서비스를 계속 이용하는 경우 개정 약관에 동의한 것으로 봅니다.',
    ],
  },
  {
    id: 'article-4',
    title: '제4조 (이용계약의 성립)',
    paragraphs: [
      '① 이용계약은 이용자가 본 약관의 내용에 동의한 후 회원가입 신청을 하고, 회사가 이를 승낙함으로써 성립합니다.',
      '② 회사는 다음 각 호에 해당하는 신청에 대하여는 승낙을 하지 않거나 사후에 이용계약을 해지할 수 있습니다.',
    ],
    bullets: [
      '실명이 아니거나 타인의 명의를 이용한 경우',
      '허위의 정보를 기재하거나 회사가 요구하는 정보를 제공하지 않은 경우',
      '만 14세 미만의 아동이 법정대리인의 동의 없이 신청한 경우',
      '이전에 회원자격을 상실한 적이 있는 자가 회사의 승낙 없이 재가입 신청을 한 경우',
      '기타 관련 법령에 위반되거나 회사가 정한 이용신청 요건에 부합하지 않는 경우',
    ],
  },
  {
    id: 'article-5',
    title: '제5조 (회원 계정 관리)',
    paragraphs: [
      '① 회원은 자신의 계정 및 비밀번호를 직접 관리해야 하며, 이를 제3자에게 양도하거나 대여할 수 없습니다.',
      '② 회원은 계정 또는 비밀번호가 도용되거나 제3자가 사용하고 있음을 인지한 경우 즉시 회사에 통지하고 회사의 안내에 따라야 합니다.',
      '③ 회원이 본 조의 의무를 이행하지 않아 발생하는 불이익에 대하여 회사는 책임지지 않습니다.',
    ],
  },
  {
    id: 'article-6',
    title: '제6조 (서비스의 제공)',
    paragraphs: ['① 회사는 다음과 같은 서비스를 제공합니다.'],
    bullets: [
      '맛집 정보 검색 및 조회 서비스',
      '리뷰 및 평점 작성·열람 서비스',
      '맛집 찜(즐겨찾기) 기능',
      '그룹 생성 및 그룹 내 맛집 공유 서비스',
      '위치 기반 맛집 추천 서비스',
      '기타 회사가 추가 개발하거나 제휴를 통해 제공하는 서비스',
    ],
  },
  {
    id: 'article-7',
    title: '제7조 (서비스 이용료)',
    paragraphs: [
      '① 회사가 제공하는 기본 서비스는 무료로 제공됩니다.',
      '② 회사는 필요한 경우 일부 서비스에 대하여 유료로 제공할 수 있으며, 이 경우 해당 서비스의 이용요금 및 결제방법 등을 서비스 내에 별도로 공지합니다.',
      '③ 유료서비스 이용 시 결제에 관한 사항은 회사가 정한 결제수단 및 정책에 따릅니다.',
    ],
  },
  {
    id: 'article-8',
    title: '제8조 (서비스의 변경 및 중단)',
    paragraphs: [
      '① 회사는 운영상, 기술상의 필요에 따라 제공하고 있는 서비스의 전부 또는 일부를 변경할 수 있습니다.',
      '② 회사는 다음 각 호의 경우 서비스의 전부 또는 일부를 일시적으로 중단할 수 있습니다.',
    ],
    bullets: [
      '컴퓨터 등 정보통신설비의 보수점검, 교체 또는 고장, 통신 장애의 경우',
      '서비스를 위한 설비의 보수 등 공사로 인해 부득이한 경우',
      '서비스 업그레이드를 위해 필요한 경우',
      '정전, 제반 설비의 장애, 이용량의 폭주 등으로 정상적인 서비스 이용에 지장이 있는 경우',
      '천재지변, 국가비상사태 등 불가항력적인 사유가 있는 경우',
    ],
  },
  {
    id: 'article-9',
    title: '제9조 (이용자의 의무)',
    paragraphs: [
      '① 이용자는 관련 법령, 본 약관, 운영정책 및 회사가 서비스 내에 고지한 사항을 준수해야 합니다.',
      '② 이용자는 다음 각 호의 행위를 하여서는 안 됩니다.',
    ],
    bullets: [
      '회원가입 신청 또는 정보 변경 시 허위 내용을 등록하는 행위',
      '타인의 정보를 도용하거나 부정하게 사용하는 행위',
      '회사의 서비스 정보를 이용하여 얻은 정보를 회사의 사전 승낙 없이 복제, 유통, 조장하거나 상업적으로 이용하는 행위',
      '허위 리뷰 작성, 광고성 도배, 반복적 스팸 게시 등 서비스의 신뢰도를 저해하는 행위',
      '음란, 폭력, 혐오, 차별, 명예훼손 등 부적절한 콘텐츠를 게시하는 행위',
      '회사 또는 제3자의 지식재산권, 초상권, 프라이버시 등의 권리를 침해하는 행위',
      '서비스 취약점 악용, 비정상적 접근, 자동화 도구를 통한 과도한 요청 전송 등 시스템을 교란하는 행위',
      '회사의 동의 없이 영리를 목적으로 서비스를 사용하는 행위',
      '기타 불법적이거나 부당한 행위',
    ],
  },
  {
    id: 'article-10',
    title: '제10조 (콘텐츠의 관리)',
    paragraphs: [
      '① 이용자가 서비스 내에 게시한 콘텐츠에 대한 저작권 및 모든 책임은 해당 이용자에게 있습니다.',
      '② 이용자는 자신이 작성한 콘텐츠를 회사가 서비스 운영, 개선, 홍보 등의 목적으로 사용하는 것에 동의합니다. 다만, 회사는 이용자의 실명을 공개하지 않으며, 이용자는 언제든지 해당 콘텐츠의 삭제를 요청할 수 있습니다.',
      '③ 회사는 다음 각 호에 해당하는 콘텐츠에 대해 사전 통지 없이 삭제하거나 노출을 제한할 수 있습니다.',
    ],
    bullets: [
      '다른 이용자 또는 제3자를 비방하거나 명예를 훼손하는 내용',
      '음란물 또는 청소년에게 유해한 내용',
      '범죄 행위와 관련되거나 범죄를 조장하는 내용',
      '회사의 저작권, 제3자의 저작권 등 권리를 침해하는 내용',
      '개인정보 보호법 등 관련 법령에 위반되는 내용',
      '광고성 정보 또는 스팸에 해당하는 내용',
      '기타 관계 법령 및 회사 운영정책에 위반되는 내용',
    ],
  },
  {
    id: 'article-11',
    title: '제11조 (저작권의 귀속)',
    paragraphs: [
      '① 서비스 및 서비스에 포함된 디자인, 로고, 상표, 소프트웨어, 데이터 편집물 등에 관한 저작권 및 지식재산권은 회사에 귀속됩니다.',
      '② 이용자는 회사가 제공하는 서비스를 이용함으로써 얻은 정보를 회사의 사전 승낙 없이 복제, 송신, 출판, 배포, 방송 기타 방법에 의하여 영리 목적으로 이용하거나 제3자에게 이용하게 해서는 안 됩니다.',
      '③ 이용자가 서비스 내에 게시한 콘텐츠의 저작권은 해당 이용자에게 귀속됩니다. 다만, 회사는 서비스 운영 목적 범위 내에서 해당 콘텐츠를 사용할 수 있습니다.',
    ],
  },
  {
    id: 'article-12',
    title: '제12조 (이용제한 및 계약해지)',
    paragraphs: [
      '① 회사는 이용자가 본 약관 또는 운영정책을 위반하는 경우 다음 각 호의 조치를 할 수 있습니다.',
    ],
    bullets: [
      '서비스 이용 경고',
      '일정 기간 서비스 이용 제한',
      '영구적 서비스 이용 정지 및 이용계약 해지',
    ],
  },
  {
    id: 'article-13',
    title: '제13조 (회원탈퇴)',
    paragraphs: [
      '① 회원은 언제든지 서비스 내 설정 메뉴 또는 고객센터를 통해 회원탈퇴를 요청할 수 있으며, 회사는 관련 법령에 따라 이를 처리합니다.',
      '② 회원탈퇴 시 회원이 작성한 콘텐츠 중 리뷰, 댓글 등은 삭제되지 않을 수 있으며, 삭제를 원하는 경우 탈퇴 전에 직접 삭제해야 합니다.',
      '③ 회원탈퇴 후 동일한 계정으로 재가입하더라도 이전의 이용 내역, 콘텐츠 등은 복구되지 않습니다.',
    ],
  },
  {
    id: 'article-14',
    title: '제14조 (손해배상)',
    paragraphs: [
      '① 회사가 고의 또는 중과실로 이용자에게 손해를 입힌 경우 그 손해를 배상할 책임이 있습니다.',
      '② 이용자가 본 약관의 규정을 위반하여 회사에 손해를 입힌 경우 해당 이용자는 회사에 대하여 손해를 배상할 책임이 있습니다.',
    ],
  },
  {
    id: 'article-15',
    title: '제15조 (면책조항)',
    paragraphs: [
      '① 회사는 천재지변, 전쟁, 기간통신사업자의 서비스 중지 등 불가항력적 사유로 서비스를 제공할 수 없는 경우에는 책임이 면제됩니다.',
      '② 회사는 이용자의 귀책사유로 인한 서비스 이용 장애에 대하여는 책임을 지지 않습니다.',
      '③ 회사는 이용자가 서비스를 이용하여 기대하는 수익을 얻지 못한 것에 대하여 책임을 지지 않습니다.',
      '④ 회사는 이용자 상호 간 또는 이용자와 제3자 간에 서비스를 매개로 발생한 분쟁에 대하여 개입할 의무가 없으며, 이로 인한 손해에 대하여 책임을 지지 않습니다.',
      '⑤ 회사는 음식점 정보의 정확성·최신성을 유지하기 위해 노력하나, 제휴처 또는 외부 제공 정보의 변경으로 인한 차이에 대하여 보증하지 않습니다.',
      '⑥ 회사는 무료로 제공하는 서비스의 이용과 관련하여 관련 법령에 특별한 규정이 없는 한 책임을 지지 않습니다.',
    ],
  },
  {
    id: 'article-16',
    title: '제16조 (분쟁해결)',
    paragraphs: [
      '① 회사는 이용자가 제기하는 정당한 의견이나 불만을 반영하고 그 피해를 보상 처리하기 위하여 고객센터를 운영합니다.',
      '② 회사는 이용자로부터 제출되는 불만사항 및 의견을 우선적으로 처리합니다. 다만, 신속한 처리가 곤란한 경우에는 이용자에게 그 사유와 처리 일정을 통보합니다.',
      '③ 회사와 이용자 간에 발생한 분쟁과 관련하여 이용자의 피해 구제 신청이 있는 경우에는 공정거래위원회 또는 시·도지사가 의뢰하는 분쟁조정기관의 조정에 따를 수 있습니다.',
    ],
  },
  {
    id: 'article-17',
    title: '제17조 (준거법 및 관할법원)',
    paragraphs: [
      '① 본 약관의 해석 및 회사와 이용자 간 분쟁에 대해서는 대한민국 법령을 적용합니다.',
      '② 서비스 이용과 관련하여 회사와 이용자 간에 소송이 발생한 경우, 「민사소송법」에서 정한 관할법원을 전속관할법원으로 합니다.',
    ],
  },
] as const

export function TermsPage({ onBack }: TermsPageProps) {
  return (
    <div className="min-h-screen bg-background pb-6">
      <TopAppBar title="이용약관" showBackButton onBack={onBack} />

      <Container className="space-y-4 pt-4">
        <PolicyDocumentHeaderCard
          eyebrow="Terms of Service"
          title="Tasteam 이용약관"
          description="Tasteam 서비스 이용과 관련한 기본적인 권리, 의무 및 책임사항을 안내합니다."
          effectiveDate="2026.02.23"
          updatedDate="2026.02.23"
        />

        <Card className="p-5">
          <h2 className="mb-3 text-base font-semibold">목차</h2>
          <nav aria-label="이용약관 목차">
            <ol className="space-y-2 text-sm">
              {TERMS_SECTIONS.map((section) => (
                <li key={section.id}>
                  <a
                    href={`#${section.id}`}
                    className="block rounded-md px-2 py-1 text-muted-foreground transition-colors hover:bg-accent hover:text-foreground"
                  >
                    {section.title}
                  </a>
                </li>
              ))}
              <li>
                <a
                  href="#supplementary"
                  className="block rounded-md px-2 py-1 text-muted-foreground transition-colors hover:bg-accent hover:text-foreground"
                >
                  부칙
                </a>
              </li>
            </ol>
          </nav>
        </Card>

        <div className="space-y-3">
          {TERMS_SECTIONS.map((section) => (
            <Card key={section.id} id={section.id} className="scroll-mt-20 p-5">
              <section className="space-y-3">
                <h2 className="text-base font-semibold">{section.title}</h2>
                <div className="space-y-2">
                  {section.paragraphs.map((paragraph, index) => (
                    <p key={index} className="text-sm leading-6 text-muted-foreground">
                      {paragraph}
                    </p>
                  ))}
                </div>
                {'bullets' in section && section.bullets ? (
                  <ul className="list-disc space-y-1 pl-5 text-sm leading-6 text-muted-foreground">
                    {section.bullets.map((item) => (
                      <li key={item}>{item}</li>
                    ))}
                  </ul>
                ) : null}
              </section>
            </Card>
          ))}

          <Card id="supplementary" className="scroll-mt-20 p-5">
            <section className="space-y-3">
              <h2 className="text-base font-semibold">부칙</h2>
              <p className="text-sm leading-6 text-muted-foreground">
                본 약관은 2026년 2월 23일부터 시행합니다.
              </p>
            </section>
          </Card>
        </div>
      </Container>
    </div>
  )
}
